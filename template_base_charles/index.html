<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Title</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
<script type="text/javascript">

var _s4mq = _s4mq || [];
_s4mq.push(['trackLanding']);

(function() {
   var s4mScript = document.createElement('script'); s4mScript.type = 'text/javascript'; s4mScript.async = true;
   s4mScript.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'eu-adstatic.sam4m.com/analytics/js/pad/s4m.js';
   var s4mElement = document.getElementsByTagName('script')[0]; s4mElement.parentNode.insertBefore(s4mScript, s4mElement);
})();

var isResize = false;

if (typeof $$ === 'undefined') {
	$$ = function(id){
		return document.getElementById(id);
	};
}

window.addEventListener('resize', function(event){
  resisingBitch();
});

resisingBitch = function(){
	console.log("resising bitch !");
}


window.addEventListener('load', function(){
	preload();
});


function scale( id,x,y) {
	document.getElementById(id).style.width = parseInt(x*coef)+"px";
	document.getElementById(id).style.height = parseInt(y*coef)+"px";
}

function scale2( id,x,y) {
	document.getElementById(id).style.width = parseInt(x*coef2)+"px";
	document.getElementById(id).style.height = parseInt(y*coef2)+"px";
}

function scalePosLT( id,x,y) {
	document.getElementById(id).style.left = parseInt(x*coef)+"px";
	document.getElementById(id).style.top = parseInt(y*coef)+"px";
}

function scalePosLB( id,x,y) {
	document.getElementById(id).style.left = parseInt(x*coef)+"px";
	document.getElementById(id).style.bottom = parseInt(y*coef)+"px";
}

function scalePosRT( id,x,y) {
	document.getElementById(id).style.right = parseInt(x*coef)+"px";
	document.getElementById(id).style.top = parseInt(y*coef)+"px";
}

function center(id) {
	document.getElementById(id).style.left = parseInt((window.innerWidth - document.getElementById(id).offsetWidth) / 2)+"px";
}

preload = function() {
		
		console.log("preload");
		$$('loader').style.width = window.innerWidth+"px";
		$$('loader').style.height = window.innerHeight+"px";		
		var images = new Array();		
		
		//images.push('images/MS_Header@2x.png');
		//images.push('images/Bouton@2x.png');
			
		var imagesLoadedNumber = 0;
		if ( images.length == 0 ) {
			init();
		} else {
			for(var i=0; i<images.length; i++)
			{
				var image = new Image();
				image.onload = function(){
					imagesLoadedNumber++;
					console.log("imagesLoadedNumber = "+imagesLoadedNumber);
					if(imagesLoadedNumber == images.length)
					{
						console.log("Loaded");
						document.getElementById("loader").style.display = "none";
						init();
					}
				}
				image.onerror = function(){
					imagesLoadedNumber++;
					console.log("imagesLoadedNumber = "+imagesLoadedNumber);
					if(imagesLoadedNumber == images.length)
					{
						console.log("Loaded");
						document.getElementById("loader").style.display = "none";
						init();
					}
				}
				image.src = images[i];
			}
		}
}

function init() {

	 $$('loader').style.display = 'none';
	 $$('wrapper').style.display = 'block'; 
	 //setTimeout( resize, 100);
	 //setTimeout( getLocation, 500);
}
function resize2() {

	isResize = false;
	setTimeout( resize, 100);
}

function resize() {

	if ( !isResize) {
		isResize = true;
		coef = 1;
		coef = window.innerWidth/320;

	}
	setTimeout( function() { isResize = false; } , 200);
}

</script>
<style>
body {
	margin: 0;
	padding: 0;
    background: #e22507;
}
a {
	color:grey;
}
#loader{
	position: absolute;
	padding: 0;
	margin: 0;
	top: 0px;
	width: 100%;
	height: 100%;
	background: #FFFFFF;
	text-align: center;
}

#imgLoaderContainer {
	position: absolute;
	margin: 50% 50%;
	width: 32px;
	height: 32px;
}

#imgLoader {
	position: absolute;
	margin-left: -16px;
	margin-top: -16px;
	width: 32px;
	height: 32px;
	background: transparent url("images/loader-black.gif") no-repeat center;
}

#wrapper {
	position: absolute;
	padding: 0;
	top: 0px;
	left: 0px;
	width: 100%;
	background: #e22507;
	display: none;
}

</style>
</head>
<body onResize="resize2();">	
	<div id="wrapper">
    </div>
    <div id="loader">
		<div id="imgLoaderContainer" >
			<div id="imgLoader" ></div>
		</div>
	</div>
</body>
